@{
    ViewBag.Title = "PropertyDetails";
}

<div class="row">
    <div class="col-md-9">
        <div id="PropDetail"></div>
    </div>
    <div class="col-md-3">
        <h2>
            <i class="fa fa-map-marker" aria-hidden="true"></i>
            Location
        </h2>
        <hr />
        <iframe id="map-location" width="100%" height="250" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.com/maps?f=q&amp;source=s_q&amp;hl=id&amp;geocode=&amp;q=arvada&amp;aq=&amp;sll=39.777936,-105.074272&amp;sspn=0.149605,0.338173&amp;ie=UTF8&amp;hq=&amp;hnear=Arvada,+Jefferson,+Colorado&amp;ll=39.802764,-105.087484&amp;spn=0.299124,0.676346&amp;t=m&amp;z=11&amp;output=embed"></iframe>
    </div>
</div>




<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript">
    $(window).load(function () {

        function displayData(data) {


            var html = '';
            debugger;
            $.each(data, function (i, val) {
                html += '<h2><i class="fa fa-home" aria-hidden="true"></i>' +
                        val.title+'</h2><hr />' +
                        '<img src="https://loremflickr.com/1024/640/building" alt="property">' +

                        '<h3>Property Description</h3>' +
                        '<p>Vivamus diam diam, fermentum sed dapibus eget, egestas sed eros. Lorem fermentum ipsum dolor sit amet, ipsum dolor sit amet, consectetur fermentum adipiscing elit. Vivamus diam diam, fermentum sed dapibus eget, egestas sed eros. Lorem fermentum ipsum dolor sit amet, ipsum dolor sit amet, consectetur fermentum adipiscing elit. Vivamus diam diam, fermentum sed dapibus eget, egestas sed eros. Lorem fermentum ipsum dolor sit amet, ipsum dolor sit amet, consectetur fermentum adipiscing elit. Vivamus diam diam, fermentum sed dapibus eget, egestas sed eros. Lorem fermentum ipsum dolor sit amet, ipsum dolor sit amet, consectetur fermentum adipiscing elit.13</p>' +
                        '<h3>Property Feature</h3>' +
                        '<ul>' +
                        '<li>FMLS #: 3918702</li>' +
                        '<li>Subdivision: 3</li>' +
                        '<li>Bedrooms: 3</li>' +
                        '<li>Bathrooms: Full: 3, Half: 1</li>' +
                        '<li>Year Built: 2000</li>' +
                        '<li>Type: Condo/Townhouse</li>' +
                        '<li>Country: COBB</li>' +
                        '<li>Status: Active</li>' +
                        '</ul>' +
                        '<h3>Addtional Features</h3>' +
                        '<p>Vivamus diam diam, fermentum sed dapibus eget, egestas sed eros. Lorem fermentum ipsum dolor sit amet, ipsum dolor sit amet, consectetur fermentum adipiscing elit. Vivamus diam diam, fermentum sed dapibus eget, egestas sed eros. Lorem fermentum ipsum dolor sit amet, ipsum dolor sit amet, consectetur fermentum adipiscing elit. Vivamus diam diam, fermentum sed dapibus eget, egestas sed eros. Lorem fermentum ipsum dolor sit amet, ipsum dolor sit amet, consectetur fermentum adipiscing elit. Vivamus diam diam, fermentum sed dapibus eget, egestas sed eros. Lorem fermentum ipsum dolor sit amet, ipsum dolor sit amet, consectetur fermentum adipiscing elit, ipsum dolor sit amet, consectetur fermentum adipiscing elit, ipsum dolor sit amet, consectetur fermentum adipiscing elitipsum dolor sit amet, consectetur fermentum adipiscing elit, ipsum dolor sit amet, consectetur fermentum adipiscing elitadipiscing elit, ipsum dolor sit amet, consectetur fermentum adipiscing elitadipiscing elit, ipsum dolor sit amet, consectetur fermentum adipiscing elitadipiscing elit, ipsum dolor sit amet, consectetur fermentum adipiscing elit.</p>';
            });


            $(html).appendTo('#PropDetail');
        }

        debugger;
        var accesstoken = sessionStorage.getItem('accessToken');
        var authHeaders = {};
        if (accesstoken) {
            authHeaders.Authorization = 'Bearer ' + accesstoken;
        }


        @{string url = "~/api/GetPropDetail/"+ Request.Params["id"];}

        $.ajax({
            method: 'GET',
            url: '@Url.Content(url)',
            headers: authHeaders,
            success: function (data) {
                    displayData(data);
                },
            error: function (error) {
                $('#msgError').html(error.responseJSON.Message);
                $('#divErrors').show();
                    return false;
                }
            });
    });


</script>
